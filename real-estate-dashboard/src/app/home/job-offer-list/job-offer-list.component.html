<div class="filters-container">
    <div class="navigation-buttons">
      <a routerLink="/home" class="filter-button">
        <mat-icon>arrow_back</mat-icon>
        Retour
      </a>
    </div>
    
    <div class="filter-section">
      <!-- <mat-expansion-panel
        [expanded]="expandFilters"
        (expandedChange)="expandFilters = $event"
        class="filter-expansion-panel"
      >
        <mat-expansion-panel-header>
          <mat-panel-title> Filtres </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="origin-filter-content">
            <label for="keyword">Mot clé:</label>
            <input id="keyword" [(ngModel)]="filters.keyword" placeholder="Rechercher un poste..." />
          
            <label for="location">Lieu:</label>
            <input id="location" [(ngModel)]="filters.location" placeholder="Entrez un lieu..." />
          
            <label for="contractType">Type de contrat:</label>
            <mat-select [(ngModel)]="filters.contractType">
              <mat-option value="CDI">CDI</mat-option>
              <mat-option value="CDD">CDD</mat-option>
              <mat-option value="Freelance">Freelance</mat-option>
            </mat-select>
          
            <label for="workTime">Temps de travail:</label>
            <mat-select [(ngModel)]="filters.workTime">
              <mat-option value="Temps plein">Temps plein</mat-option>
              <mat-option value="Temps partiel">Temps partiel</mat-option>
              <mat-option value="Flexible">Flexible</mat-option>
            </mat-select>
          
            <label for="experience">Expérience:</label>
            <mat-select [(ngModel)]="filters.experience">
              <mat-option value="Pas d'expérience">Pas d'expérience</mat-option>
              <mat-option value="Entre 1 et 3 ans">Entre 1 et 3 ans</mat-option>
              <mat-option value="Entre 3 et 5 ans">Entre 3 et 5 ans</mat-option>
              <mat-option value="Entre 5 et 10 ans">Entre 5 et 10 ans</mat-option>
              <mat-option value="Plus de 10 ans">Plus de 10 ans</mat-option>
            </mat-select>
          
            <label for="qualification">Qualification:</label>
            <mat-select [(ngModel)]="filters.qualification">
              <mat-option value="Technicien">Technicien</mat-option>
              <mat-option value="Bac+2">Bac+2</mat-option>
              <mat-option value="Bac+3">Bac+3</mat-option>
              <mat-option value="Bac+4">Bac+4</mat-option>
            </mat-select>
          
            <label for="specialties">Spécialités:</label>
            <mat-select [(ngModel)]="filters.specialties" multiple>
              <mat-option value="Soins généraux">Soins généraux</mat-option>
              <mat-option value="Pédiatrie">Pédiatrie</mat-option>
              <mat-option value="Oncologie">Oncologie</mat-option>
              <mat-option value="Médecine du travail">Médecine du travail</mat-option>
              <mat-option value="Bloc opératoire">Bloc opératoire</mat-option>
            </mat-select>
          </div>
          
      </mat-expansion-panel> -->
      <div class="origin-section">
        <mat-expansion-panel
      >
        <mat-expansion-panel-header>
                <mat-panel-title> Filtrer par Lieu </mat-panel-title>
                </mat-expansion-panel-header>
                <input type="text" id="location" [(ngModel)]="filters.location" placeholder="Entrez un lieu..."  />
              
            </mat-expansion-panel>
      </div>
      <div class="origin-filter-section">
        <mat-expansion-panel
        [expanded]="expandFilters"
        (expandedChange)="expandFilters = $event"
        class="filter-expansion-panel"
      >
        <mat-expansion-panel-header>
                <mat-panel-title> Filtrer par Type de Contrat </mat-panel-title>
                </mat-expansion-panel-header>
            <mat-select [(ngModel)]="filters.contractType" placeholder="Type de contrat">
              <mat-option value="CDI">CDI</mat-option>
              <mat-option value="CDD">CDD</mat-option>
              <mat-option value="Freelance">Freelance</mat-option>
            </mat-select>
            </mat-expansion-panel>
      </div>

      
    </div>

    
  
    <div class="search-buttons">
      <button class="filter-button apply-button"  (click)="applyFilters()">Appliquer les filtres</button>
      <button class="filter-button clear-button" (click)="clearFilters()">Réinitialiser les filtres</button>
    </div>
  
    <div class="ads-list">
      <table mat-table [dataSource]="dataSource" class="ads-table">
        <ng-container matColumnDef="title">
          <th mat-header-cell *matHeaderCellDef> Titre </th>
          <td mat-cell *matCellDef="let offer"> {{ offer.title || 'N/A' }} </td>
        </ng-container>
  
        <ng-container matColumnDef="location">
          <th mat-header-cell *matHeaderCellDef> Lieu </th>
          <td mat-cell *matCellDef="let offer"> {{ offer.location || 'N/A' }} </td>
        </ng-container>
  
        <ng-container matColumnDef="salary">
          <th mat-header-cell *matHeaderCellDef> Salaire </th>
          <td mat-cell *matCellDef="let offer"> {{ offer.salary || 'N/A' }} </td>
        </ng-container>
  
        <ng-container matColumnDef="contract">
          <th mat-header-cell *matHeaderCellDef> Contrat </th>
          <td mat-cell *matCellDef="let offer"> {{ offer.contract || 'N/A' }} </td>
        </ng-container>
  
        <ng-container matColumnDef="publicationDate">
          <th mat-header-cell *matHeaderCellDef> Publié le </th>
          <td mat-cell *matCellDef="let offer"> {{ offer.publicationDate  }} </td>
        </ng-container>
  
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef> Actions </th>
          <td mat-cell *matCellDef="let offer">
            <button mat-icon-button (click)="openJobDetails(offer)">
              <mat-icon>visibility</mat-icon>
            </button>
          </td>
        </ng-container>
  
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
  
      <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons (page)="pageChange($event)">
      </mat-paginator>
    </div>
  </div>
  