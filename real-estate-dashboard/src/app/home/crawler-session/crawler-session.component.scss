$dark-bg: #1e1e1e;
$darker-bg: #2e2e2e;
$light-text: #ccc;
$lighter-text: #888;
$highlight-color: #1b76ff;
$debit-color: #ff6b6b;
$credit-color: #4caf50;
$border-color: #444;
$padding-sm: 10px;
$padding-md: 15px;
$border-radius: 4px;

@mixin transition($properties, $duration: 0.3s, $ease: ease) {
    transition: $properties $duration $ease;
}

@mixin border-box($color, $width: 1px) {
    border: $width solid $color;
}

@mixin circle-size($size) {
    width: $size;
    height: $size;
}

@mixin flex-center {
    display: flex;
    justify-content: center;
    align-items: center;
}

@mixin font-style($color, $size: 14px, $weight: normal) {
    color: $color;
    font-size: $size;
    font-weight: $weight;
}

@mixin box-shadow($x: 0, $y: 6px, $blur: 20px, $color: rgba(0, 0, 0, 0.3)) {
    box-shadow: $x $y $blur $color;
}

.session-list {
    display: flex;

    .sidebar {
        width: 25%;
        padding: $padding-sm;
        background-color: $dark-bg;
        height: 100vh;
        overflow: hidden;

        .filter-section {
            @include font-style($light-text);
            @include border-box($border-color, 1px);
            margin-bottom: 20px;
            padding: $padding-sm;

            input[type="date"] {
                background-color: $darker-bg;
                @include border-box($border-color);
                padding: 5px;
                border-radius: $border-radius;
                width: 100%;
                font-size: 14px;
                margin-bottom: 10px;
            }

            .clear-button {
                background-color: $highlight-color;
                padding: $padding-sm;
                border-radius: $border-radius;
                cursor: pointer;
                @include transition(background-color);

                &:hover {
                    background-color: darken($highlight-color, 10%);
                }
            }
        }

        .small-cards-container {
            overflow-y: auto;
            flex: 1;

            &::-webkit-scrollbar {
                width: 6px;
            }

            &::-webkit-scrollbar-thumb {
                background: $highlight-color;
                border-radius: 3px;
            }

            .small-card {
                background-color: $darker-bg;
                border-radius: 8px;
                margin-bottom: $padding-sm;
                padding: $padding-md;
                @include transition(background-color);
                border-left: 4px solid transparent;
                cursor: pointer;

                &.active {
                    border-left-color: $highlight-color;
                }

                &:hover {
                    background-color: lighten($darker-bg, 5%);
                }

                .card-header {
                    @include flex-center;
                    margin-bottom: $padding-sm;

                    .card-icon {
                        @include circle-size(40px);
                        margin-right: 10px;
                    }

                    .session-title {
                        margin-left: 10px;

                        h4 {
                            @include font-style($light-text, 16px);
                            margin: 0;
                        }

                        p {
                            @include font-style($lighter-text, 12px);
                            margin: 0;
                        }
                    }
                }

                .circle-container {
                    @include flex-center;
                    margin-top: $padding-sm;

                    .circle-wrapper {
                        display: flex;
                        flex-direction: column;
                        align-items: center;

                        .circle {
                            @include circle-size(80px);
                            position: relative;

                            &-inner {
                                @include flex-center;
                                position: absolute;
                                font-size: 16px;
                                font-weight: bold;
                            }

                            svg {
                                width: 100%;
                                height: 100%;
                            }
                        }

                        .circle-label {
                            margin-top: 10px;
                            font-size: 14px;
                            color: $light-text;
                        }
                    }

                    .circular-chart {
                        @include circle-size(80px);
                        margin: $padding-sm auto;

                        &.blue .circle-bar {
                            fill: #1e8fff8c;
                            stroke: #1e90ff;
                        }

                        &.yellow .circle-bar {
                            fill: #ffcc0077;
                            stroke: #ffcc00;
                        }

                        &.green .circle-bar {
                            fill: #4caf4f6e;
                            stroke: #4caf50;
                        }

                        &.red .circle-bar {
                            fill: #ff6b6b77;
                            stroke: #ff6b6b;
                        }
                    }

                    .circle-bg {
                        fill: none;
                        stroke-width: 3.8;
                    }

                    .circle-bar {
                        fill: none;
                        stroke-width: 2.8;
                        stroke-linecap: round;
                        animation: progress 1s ease-out forwards;
                    }
                }
            }
        }
    }

    .content {
        width: 75%;
        padding: $padding-md;

        .account-details-container {
            font-family: "Open Sans", sans-serif;
            height: 100%;
            overflow: hidden;
            padding: $padding-md;
            width: 60%;
            background-color: $darker-bg;
            @include flex-center;
            flex-direction: column;

            .account-details {
                width: 100%;
                flex: 1;
                display: flex;
                flex-direction: column;

                &.is-selected {
                    @include transition(transform 500ms, opacity 200ms);
                    transform: translateX(0);
                    opacity: 1;
                }

                .account-details-card {
                    background-color: $dark-bg;
                    border-radius: 10px;
                    padding: $padding-md;
                    @include box-shadow;
                    flex: 1;

                    .details-header {
                        text-align: center;
                        margin-bottom: $padding-md;

                        h2 {
                            @include font-style($light-text);
                            margin: 0;
                        }
                    }

                    .details-content {
                        flex: 1;
                        display: flex;
                        flex-direction: column;
                        justify-content: center;

                        .details-item {
                            display: flex;
                            justify-content: space-between;
                            padding: $padding-sm 0;
                            border-bottom: 1px solid $border-color;

                            &:last-child {
                                border-bottom: none;
                            }

                            .details-title {
                                @include font-style($lighter-text, 14px, bold);
                            }

                            .details-value {
                                @include font-style($light-text);
                                white-space: pre-wrap;
                            }
                        }

                        .log-section {
                            margin-top: $padding-sm;
                            display: flex;
                            flex-direction: column;
                            gap: $padding-sm;

                            .log-bubble {
                                background-color: rgba(255, 0, 0, 0.1);
                                border-radius: 10px;
                                padding: 15px;
                                display: flex;
                                flex-direction: column;

                                .log-title {
                                    @include font-style(#fff, 16px, bold);
                                    text-align: center;
                                    margin-bottom: 5px;
                                }

                                .log-content {
                                    @include font-style(rgba(255, 255, 255, 0.7));
                                    white-space: pre-wrap;
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

.my-wallet {
    @include box-shadow;
    width: 100%;
    max-width: 800px;
    margin: auto;
    display: flex;
    flex-direction: row;
    transition: transform 0.5s ease;

    &-sidebar {
        background-color: $darker-bg;
        color: $light-text;
        padding: $padding-md;
        width: 40%;
        display: flex;
        flex-direction: column;

        .account {
            background-color: darken($darker-bg, 10%);
            @include border-box(lighten($border-color, 10%), 2px);
            border-radius: $border-radius;
            padding: $padding-md;
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;

            &.active {
                border: 4px solid $highlight-color;
            }

            &-card-type {
                @include circle-size(44px, 64px);
                background: center no-repeat;

                &.is-bienici {
                    background-image: url("/assets/images/icon_bienici.svg");
                }

                &.is-logic-immo {
                    background-image: url("/assets/images/logo_licom.svg");
                }

                &.is-boncoin {
                    background-image: url("/assets/images/leboncoin.svg");
                }

                &.is-seloger {
                    background-image: url("/assets/images/seloger-logo.svg");
                }
            }

            &-number {
                letter-spacing: 0.09em;
                font-size: 20px;
                color: $light-text;
            }

            &-expiration {
                @include font-style($lighter-text, 16px);
            }

            .status-icon {
                position: absolute;
                top: 10px;
                right: 10px;
                font-size: 24px;

                &.success {
                    color: $credit-color;
                }

                &.failure {
                    color: $debit-color;
                }
            }
        }
    }
}

// Responsive Styles
@media (max-width: 768px) {
    .my-wallet {
        width: 90%;
        flex-direction: column;
    }

    .my-wallet-sidebar,
    .account-details-container {
        width: 100%;
        padding: $padding-sm;
    }

    .account {
        height: auto;
        padding: $padding-sm;
        width: 100%;
    }
}